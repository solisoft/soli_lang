<div>
    <!-- Hero Section -->
    <div class="mb-12">
        <nav class="flex items-center gap-2 text-sm mb-4">
            <a href="/docs/language" class="text-gray-400 hover:text-white transition-colors">Language</a>
            <svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
            <span class="text-white">Classes & OOP</span>
        </nav>
        <h1 class="text-4xl font-bold tracking-tight text-white sm:text-5xl mb-6">
            <span class="bg-gradient-to-r from-red-400 to-rose-400 bg-clip-text text-transparent">Classes & OOP</span>
        </h1>
        <p class="text-xl text-gray-300 leading-8">
            Object-oriented programming in Soli: classes, inheritance, interfaces, and static members.
        </p>
    </div>

    <!-- Basic Class Definition -->
    <section id="section-basic-class" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
            <span class="w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center">
                <svg class="w-4 h-4 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                </svg>
            </span>
            Basic Class Definition
        </h2>

        <section id="kw-class" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <a href="#kw-class" class="group flex items-center gap-2 mb-3">
                    <code class="text-lg font-mono text-indigo-400">class</code>
                    <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 text-gray-500 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                    </svg>
                </a>
                <p class="text-gray-400 mb-3">Defines a class with properties and methods.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">class Person {
    name: String;
    age: Int;
    email: String;

    new(name: String, age: Int, email: String = null) {
        this.name = name;
        this.age = age;
        this.email = email ?? "";
    }

    fn greet() -> String {
        "Hello, I'm " + this.name
    }

    fn introduce() -> String {
        let intro = "Hi, I'm " + this.name + " and I'm " + str(this.age) + " years old";
        if (this.email != "") {
            intro = intro + ". You can reach me at " + this.email;
        }
        intro
    }

    fn have_birthday() {
        this.age = this.age + 1;
    }
}

// Creating instances
let alice = new Person("Alice", 30);
let bob = new Person("Bob", 25, "bob@example.com");

// Using instances
print(alice.greet());      // "Hello, I'm Alice"
print(bob.introduce());    // "Hi, I'm Bob and I'm 25 years old..."

alice.have_birthday();
print(alice.age);          // 31</code></pre>
            </div>
        </section>
    </section>

    <!-- Inheritance -->
    <section id="section-inheritance" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Inheritance</h2>

        <section id="kw-extends" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <a href="#kw-extends" class="group flex items-center gap-2 mb-3">
                    <code class="text-lg font-mono text-indigo-400">extends</code>
                    <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 text-gray-500 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                    </svg>
                </a>
                <p class="text-gray-400 mb-3">Create a subclass that inherits from a parent class.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">// Base class
class Animal {
    name: String;
    age: Int;

    new(name: String, age: Int) {
        this.name = name;
        this.age = age;
    }

    fn speak() -> String {
        this.name + " makes a sound"
    }

    fn get_info() -> String {
        this.name + " is " + str(this.age) + " years old"
    }
}

// Subclass
class Dog extends Animal {
    breed: String;

    new(name: String, age: Int, breed: String) {
        super(name, age);
        this.breed = breed;
    }

    // Override method
    fn speak() -> String {
        this.name + " barks!"
    }

    // Subclass-specific method
    fn fetch() -> String {
        this.name + " fetches the ball!"
    }
}

// Using inheritance
let dog = new Dog("Buddy", 3, "Golden Retriever");
print(dog.speak());        // "Buddy barks!"
print(dog.get_info());     // "Buddy is 3 years old"
print(dog.fetch());        // "Buddy fetches the ball!"
print(dog.breed);          // "Golden Retriever"</code></pre>
            </div>
        </section>
    </section>

    <!-- Interfaces -->
    <section id="section-interfaces" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Interfaces</h2>

        <section id="kw-interface" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <a href="#kw-interface" class="group flex items-center gap-2 mb-3">
                    <code class="text-lg font-mono text-indigo-400">interface</code> / <code class="text-lg font-mono text-indigo-400">implements</code>
                    <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 text-gray-500 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                    </svg>
                </a>
                <p class="text-gray-400 mb-3">Define contracts that classes must implement.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">// Define an interface
interface Drawable {
    fn draw() -> String;
    fn get_color() -> String;
}

// Another interface
interface Resizable {
    fn resize(width: Float, height: Float);
    fn get_dimensions() -> {width: Float, height: Float};
}

// Class implementing multiple interfaces
class Circle implements Drawable, Resizable {
    radius: Float;
    color: String;

    new(radius: Float, color: String) {
        this.radius = radius;
        this.color = color;
    }

    fn draw() -> String {
        "Circle with radius " + str(this.radius) + " and color " + this.color
    }

    fn get_color() -> String {
        this.color
    }

    fn resize(width: Float, height: Float) {
        this.radius = width / 2;
    }

    fn get_dimensions() -> {width: Float, height: Float} {
        {"width": this.radius * 2, "height": this.radius * 2}
    }
}

// Using interfaces
let shapes: Drawable[] = [
    new Circle(5.0, "red"),
];

for (shape in shapes) {
    print(shape.draw());  // Polymorphic call
}</code></pre>
            </div>
        </section>
    </section>

    <!-- Visibility Modifiers -->
    <section id="section-visibility" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Visibility Modifiers</h2>
        <div class="overflow-x-auto mb-6">
            <table class="w-full text-left text-sm">
                <thead>
                    <tr class="border-b border-white/10">
                        <th class="py-2 px-4 text-gray-400 font-medium">Modifier</th>
                        <th class="py-2 px-4 text-gray-400 font-medium">Access</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-white/5">
                    <tr id="kw-public" class="scroll-mt-20">
                        <td class="py-2 px-4"><a href="#kw-public" class="text-indigo-400 font-mono hover:text-indigo-300">public</a></td>
                        <td class="py-2 px-4 text-gray-400">Accessible from anywhere (default)</td>
                    </tr>
                    <tr id="kw-private" class="scroll-mt-20">
                        <td class="py-2 px-4"><a href="#kw-private" class="text-indigo-400 font-mono hover:text-indigo-300">private</a></td>
                        <td class="py-2 px-4 text-gray-400">Intended for use only within the class</td>
                    </tr>
                    <tr id="kw-protected" class="scroll-mt-20">
                        <td class="py-2 px-4"><a href="#kw-protected" class="text-indigo-400 font-mono hover:text-indigo-300">protected</a></td>
                        <td class="py-2 px-4 text-gray-400">Intended for use within class and subclasses</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <p class="text-gray-400 mb-4 text-sm"><strong class="text-yellow-400">Note:</strong> Visibility modifiers are currently parsed for documentation purposes but not enforced at runtime.</p>

        <section id="private-method-convention" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <h3 class="text-lg font-semibold text-white mb-3">Private Method Convention</h3>
                <p class="text-gray-400 mb-3">In addition to the <code>private</code> keyword, Soli follows a naming convention where methods starting with an underscore (<code>_</code>) are considered internal/private helpers:</p>
                <pre data-filename="Example"><code class="language-soli text-sm">class PostsController extends Controller {
    // Underscore prefix marks internal helper methods
    fn _permit_params(params: Any) -> Any {
        {
            "title": params["title"],
            "content": params["content"]
        }
    }

    fn create(req: Any) -> Any {
        // Using the private helper
        let permitted = this._permit_params(req["params"]);
        Posts.create(permitted)
    }
}</code></pre>
                <p class="text-gray-400 mt-3 text-sm"><strong class="text-yellow-400">Recommendation:</strong> Use either <code>private fn</code> keyword OR underscore prefix (<code>_</code>) for internal helper methods. The underscore convention is used throughout the codebase (e.g., <code>_authenticate</code>, <code>_build_post_params</code> in examples).</p>
            </div>
        </section>

        <div class="rounded-lg bg-gray-900 overflow-hidden mb-6">
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">class BankAccount {
    public account_number: String;
    private balance: Float;

    new(account_number: String, initial_deposit: Float) {
        this.account_number = account_number;
        this.balance = initial_deposit;
    }

    public fn deposit(amount: Float) -> Bool {
        if (this.validate_amount(amount)) {
            this.balance = this.balance + amount;
            return true;
        }
        return false;
    }

    public fn get_balance() -> Float {
        this.balance
    }

    private fn validate_amount(amount: Float) -> Bool {
        amount > 0
    }
}

let account = new BankAccount("123456789", 1000.0);
account.deposit(500.0);           // Works - public method
print(account.get_balance());     // 1500.0</code></pre>
            </div>
        </div>
    </section>

    <!-- Static Members -->
    <section id="section-static" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Static Members</h2>

        <section id="kw-static" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <a href="#kw-static" class="group flex items-center gap-2 mb-3">
                    <code class="text-lg font-mono text-indigo-400">static</code>
                    <svg class="w-4 h-4 opacity-0 group-hover:opacity-100 text-gray-500 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                    </svg>
                </a>
                <p class="text-gray-400 mb-3">Properties and methods that belong to the class, not instances.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">class MathUtils {
    static PI: Float = 3.14159265359;
    static E: Float = 2.71828182846;

    static fn square(x: Float) -> Float {
        x * x
    }

    static fn cube(x: Float) -> Float {
        x * x * x
    }

    static fn max(a: Float, b: Float) -> Float {
        if (a > b) { a } else { b }
    }

    static fn clamp(value: Float, min_val: Float, max_val: Float) -> Float {
        if (value < min_val) {
            return min_val;
        }
        if (value > max_val) {
            return max_val;
        }
        value
    }
}

// Using static members
print(MathUtils.PI);           // 3.14159265359
print(MathUtils.square(4.0));  // 16.0
print(MathUtils.cube(3.0));    // 27.0
print(MathUtils.clamp(150, 0, 100));  // 100</code></pre>
            </div>
        </section>
    </section>

    <!-- this and super -->
    <section id="section-this-super" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">this and super</h2>

        <p class="text-gray-400 mb-3">Reference to the current instance.</p>
        <pre data-filename="my_class.sl"><code class="language-soli text-sm">class User {
    fn new(name) {
        this.name = name;
    }

    fn say_hello() {
        println("Hello, " + this.name);
    }
}</code></pre>

        <p class="text-gray-400 mb-3">Inheritance.</p>
        <pre data-filename="my_class.sl"><code class="language-soli text-sm">class Admin extends User {
    fn say_hello() {
        super.say_hello();
        println("I am an admin.");
    }
}</code></pre>

        <p class="text-gray-400 mb-3">Static methods.</p>
        <pre data-filename="my_class.sl"><code class="language-soli text-sm">class Math {
    static fn add(a, b) {
        a + b
    }
}</code></pre>
    </section>

    <!-- Nested Classes -->
    <section id="section-nested-classes" class="scroll-mt-20 mb-12">
        <h2 class="text-2xl font-bold text-white mb-4">Nested Classes</h2>

        <section id="nested-classes" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <p class="text-gray-400 mb-3">Classes can be defined inside other classes, providing logical grouping and access to the outer class's members.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">class Outer {
    outer_value: Int;

    new(value: Int) {
        this.outer_value = value;
    }

    fn create_inner(x: Int) -> Inner {
        new Inner(this, x)
    }

    class Inner {
        outer: Outer;
        inner_value: Int;

        new(outer: Outer, value: Int) {
            this.outer = outer;
            this.inner_value = value;
        }

        fn get_combined() -> Int {
            this.outer.outer_value + this.inner_value
        }

        fn get_outer_value() -> Int {
            this.outer.outer_value
        }
    }
}

// Using nested classes
let outer = new Outer(10);
let inner = new Outer.Inner(outer, 5);

print(inner.get_combined());   // 15
print(inner.get_outer_value()); // 10

// Factory pattern
let inner2 = outer.create_inner(20);
print(inner2.get_combined());   // 30</code></pre>
            </div>
        </section>

        <section id="nested-class-access" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <h3 class="text-lg font-semibold text-white mb-3">Accessing Nested Classes</h3>
                <p class="text-gray-400 mb-3">Nested classes can be accessed through the outer class using dot notation.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">class Tree {
    class Node {
        value: Int;
        left: Node?;
        right: Node?;

        new(value: Int) {
            this.value = value;
            this.left = null;
            this.right = null;
        }

        fn insert(new_value: Int) {
            if (new_value < this.value) {
                if (this.left == null) {
                    this.left = new Tree.Node(new_value);
                } else {
                    this.left.insert(new_value);
                }
            } else {
                if (this.right == null) {
                    this.right = new Tree.Node(new_value);
                } else {
                    this.right.insert(new_value);
                }
            }
        }
    }

    root: Tree.Node?;

    new() {
        this.root = null;
    }

    fn insert(value: Int) {
        if (this.root == null) {
            this.root = new Tree.Node(value);
        } else {
            this.root.insert(value);
        }
    }
}

let tree = new Tree();
tree.insert(5);
tree.insert(3);
tree.insert(7);</code></pre>
            </div>
        </section>

        <section id="nested-class-naming" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <h3 class="text-lg font-semibold text-white mb-3">Domain-Driven Naming Convention</h3>
                <p class="text-gray-400 mb-3">Nested classes with the <code>::</code> separator follow a domain-driven naming convention, commonly used to organize related classes into logical namespaces. This pattern groups related functionality under a domain or context.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">// Domain model organization
class User {
    class Profile {
        username: String;
        avatar_url: String;

        new(username: String) {
            this.username = username;
            this.avatar_url = "https://example.com/avatars/" + username;
        }
    }

    class Settings {
        theme: String;
        notifications: Bool;

        new() {
            this.theme = "light";
            this.notifications = true;
        }
    }
}

let profile = new User::Profile("alice");
let settings = new User::Settings();

// Controller action organization
class Posts {
    class Action {
        fn create(title: String, content: String) {
            "Creating post: " + title
        }

        fn delete(id: Int) {
            "Deleting post: " + str(id)
        }
    }

    class Validator {
        fn validate_post(post: Any) -> Bool {
            post["title"] != null && post["content"] != null
        }
    }
}

let action = new Posts::Action();
action.create("Hello", "World");</code></pre>
            </div>
        </section>

        <section id="qualified-class-names" class="scroll-mt-20 mb-6">
            <div class="rounded-xl bg-white/5 border border-white/10 p-5">
                <h3 class="text-lg font-semibold text-white mb-3">Fully Qualified Names</h3>
                <p class="text-gray-400 mb-3">Nested classes can be accessed using fully qualified names from anywhere in the code.</p>
                <pre data-filename="Example"><code class="language-soli text-sm">class Service {
    class Database {
        fn query(sql: String) {
            "Executing: " + sql
        }
    }

    class Cache {
        fn get(key: String) -> String? {
            return null;
        }
    }
}

// Accessing from any scope using fully qualified names
let db = new Service::Database();
let cache = new Service::Cache();

print(db.query("SELECT * FROM users"));
print(cache.get("session:123"));</code></pre>
            </div>
        </section>
    </section>

    <!-- Navigation -->
    <div class="flex justify-between items-center pt-8 border-t border-white/10">
        <a href="/docs/language/collections" class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            Collections
        </a>
        <a href="/docs/language/pattern-matching" class="flex items-center gap-2 text-indigo-400 hover:text-indigo-300 transition-colors">
            Pattern Matching
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
        </a>
    </div>
</div>
