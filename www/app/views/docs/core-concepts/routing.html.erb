<div>
    <div class="mb-16">
        <h1 class="text-4xl font-bold tracking-tight text-white sm:text-5xl mb-6">
            <span class="bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">Routing</span>
        </h1>
        <p class="text-xl text-gray-300 leading-8">
            Routes map HTTP requests to controller actions. Define your application's URL structure in <code>config/routes.sl</code>.
        </p>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">HTTP Methods</h2>
    <p class="text-gray-400 mb-6">Use these helpers to define routes for different HTTP methods:</p>

    <div class="overflow-hidden rounded-xl border border-white/10 mb-12">
        <table class="w-full bg-white/5 text-left text-sm">
            <thead>
                <tr class="border-b border-white/10 bg-white/5">
                    <th class="px-6 py-4 font-semibold text-white">Method</th>
                    <th class="px-6 py-4 font-semibold text-white">Description</th>
                    <th class="px-6 py-4 font-semibold text-white">Example</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">get</td>
                    <td class="px-6 py-4 text-gray-400">Retrieve a resource</td>
                    <td class="px-6 py-4 font-mono text-gray-500">get("/users", "users#index")</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">post</td>
                    <td class="px-6 py-4 text-gray-400">Create a new resource</td>
                    <td class="px-6 py-4 font-mono text-gray-500">post("/users", "users#create")</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">put</td>
                    <td class="px-6 py-4 text-gray-400">Update a resource completely</td>
                    <td class="px-6 py-4 font-mono text-gray-500">put("/users/:id", "users#update")</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">patch</td>
                    <td class="px-6 py-4 text-gray-400">Update a resource partially</td>
                    <td class="px-6 py-4 font-mono text-gray-500">patch("/users/:id", "users#patch")</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">delete</td>
                    <td class="px-6 py-4 text-gray-400">Delete a resource</td>
                    <td class="px-6 py-4 font-mono text-gray-500">delete("/users/:id", "users#delete")</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Basic Routes</h2>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-12">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">config/routes.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">// Root page
get("/", "home#index");

// Static pages
get("/about", "home#about");
get("/contact", "home#contact");

// Form submissions
post("/contact", "home#submit_contact");</code></pre>
        </div>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Route Parameters</h2>
    <p class="text-gray-400 mb-6">Use <code>:param_name</code> to capture dynamic segments:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-6">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">config/routes.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">// Capture user ID
get("/users/:id", "users#show");

// Multiple parameters
get("/posts/:post_id/comments/:comment_id", "comments#show");

// Optional parameters
get("/users/:id?", "users#show");</code></pre>
        </div>
    </div>

    <p class="text-gray-400 mb-4">Access parameters in your controller:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-12">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">app/controllers/users_controller.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">fn show(req: Any) -> Any {
    let user_id = req["params"]["id"];
    let post_id = req["params"]["post_id"];

    return {
        "status": 200,
        "body": "User ID: " + user_id
    };
}</code></pre>
        </div>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Splat Routes</h2>
    <p class="text-gray-400 mb-6">Use <code>*param_name</code> to capture the remaining path segments greedously:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-6">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">config/routes.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">// Capture remaining path
get("/files/*filepath", "files#serve");
get("/downloads/*filename", "downloads#handle");

// Combine with parameters
get("/users/:id/*action", "users#action");
get("/api/*version/users/*id", "api#user");

// Root splat
get("/*path", "catchall#handle");</code></pre>
        </div>
    </div>

    <p class="text-gray-400 mb-4">Captured splat values include a leading slash:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-6">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">app/controllers/files_controller.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">fn serve(req: Any) -> Any {
    let filepath = req["params"]["filepath"];

    // /files/docs/report.pdf -> filepath = "/docs/report.pdf"
    // /files/images/photo.jpg -> filepath = "/images/photo.jpg"

    return {
        "status": 200,
        "body": "Serving: " + filepath
    };
}</code></pre>
        </div>
    </div>

    <div class="overflow-hidden rounded-xl border border-white/10 mb-12">
        <table class="w-full bg-white/5 text-left text-sm">
            <thead>
                <tr class="border-b border-white/10 bg-white/5">
                    <th class="px-6 py-4 font-semibold text-white">Pattern</th>
                    <th class="px-6 py-4 font-semibold text-white">Request Path</th>
                    <th class="px-6 py-4 font-semibold text-white">Captured</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">/files/*path</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/files/a/b/c</td>
                    <td class="px-6 py-4 font-mono text-gray-400">{path: "/a/b/c"}</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">/api/*version/users</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/api/v1/users</td>
                    <td class="px-6 py-4 font-mono text-gray-400">{version: "/v1"}</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">/users/:id/*action</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/users/123/edit</td>
                    <td class="px-6 py-4 font-mono text-gray-400">{id: "123", action: "/edit"}</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">/*splat</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/any/path/here</td>
                    <td class="px-6 py-4 font-mono text-gray-400">{splat: "/any/path/here"}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Wildcard Action Routes</h2>
    <p class="text-gray-400 mb-6">Use <code>controller#*</code> to dynamically resolve actions from the URL path:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-6">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">config/routes.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">// Dynamic docs routes - /docs/routing → docs#routing
get("/docs/*", "docs#*");

// API routes with version - /api/v1/users → api#users
get("/api/*version/*action", "api#*");

// Files serving - /files/docs/readme → files#docs/readme
get("/files/*filepath", "files#serve");</code></pre>
        </div>
    </div>

    <p class="text-gray-400 mb-4">The action name is resolved from captured splat parameters in this priority order:</p>
    <ol class="list-decimal list-inside text-gray-400 mb-6 space-y-1">
        <li><code>splat</code> parameter</li>
        <li><code>path</code>, <code>filepath</code>, <code>filename</code>, <code>action</code>, or <code>resource</code></li>
        <li>First non-nested parameter</li>
    </ol>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-6">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">app/controllers/docs_controller.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">class DocsController extends Controller {
    static {
        this.layout = "docs";
    }

    fn routing(req: Any) -> Any {
        let path = req["params"]["path"];  // "/routing"
        return render("docs/routing", {"active_page": "routing"});
    }

    fn installation(req: Any) -> Any {
        return render("docs/installation", {"active_page": "installation"});
    }
}</code></pre>
        </div>
    </div>

    <div class="overflow-hidden rounded-xl border border-white/10 mb-12">
        <table class="w-full bg-white/5 text-left text-sm">
            <thead>
                <tr class="border-b border-white/10 bg-white/5">
                    <th class="px-6 py-4 font-semibold text-white">Route Pattern</th>
                    <th class="px-6 py-4 font-semibold text-white">Request Path</th>
                    <th class="px-6 py-4 font-semibold text-white">Action Resolved</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">get("/docs/*", "docs#*")</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/docs/routing</td>
                    <td class="px-6 py-4 font-mono text-gray-400">docs#routing</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">get("/docs/*", "docs#*")</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/docs/installation</td>
                    <td class="px-6 py-4 font-mono text-gray-400">docs#installation</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">get("/api/*version/*action", "api#*")</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/api/v1/users</td>
                    <td class="px-6 py-4 font-mono text-gray-400">api#users</td>
                </tr>
                <tr>
                    <td class="px-6 py-4 font-mono text-indigo-300">get("/files/*filepath", "files#serve")</td>
                    <td class="px-6 py-4 font-mono text-gray-400">/files/docs/readme</td>
                    <td class="px-6 py-4 font-mono text-gray-400">files#docs/readme</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Query Parameters</h2>
    <p class="text-gray-400 mb-6">Query strings are automatically parsed and available in <code>req["query"]</code>:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-12">
        <label class="block px-4 py-2 bg-white/5 text-xs text-gray-400 font-mono border-b border-white/5">app/controllers/search_controller.sl</label>
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">// URL: /search?q=solilang&page=1

fn search(req: Any) -> Any {
    let query = req["query"]["q"];      // "solilang"
    let page = req["query"]["page"];    // "1"

    return {
        "status": 200,
        "body": "Searching for: " + query
    };
}</code></pre>
        </div>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">RESTful Resources</h2>
    <p class="text-gray-400 mb-6">Generate standard CRUD routes automatically with <code>resources()</code>:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-8">
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">resources("users", null);</code></pre>
        </div>
    </div>

    <div class="overflow-hidden rounded-xl border border-white/10 mb-12">
        <table class="w-full bg-white/5 text-left text-sm">
            <thead>
                <tr class="border-b border-white/10 bg-white/5">
                    <th class="px-6 py-4 font-semibold text-white">Method</th>
                    <th class="px-6 py-4 font-semibold text-white">Path</th>
                    <th class="px-6 py-4 font-semibold text-white">Action</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">GET</td><td class="px-6 py-4 font-mono text-gray-400">/users</td><td class="px-6 py-4 text-gray-400">index</td></tr>
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">GET</td><td class="px-6 py-4 font-mono text-gray-400">/users/new</td><td class="px-6 py-4 text-gray-400">new</td></tr>
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">POST</td><td class="px-6 py-4 font-mono text-gray-400">/users</td><td class="px-6 py-4 text-gray-400">create</td></tr>
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">GET</td><td class="px-6 py-4 font-mono text-gray-400">/users/:id</td><td class="px-6 py-4 text-gray-400">show</td></tr>
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">GET</td><td class="px-6 py-4 font-mono text-gray-400">/users/:id/edit</td><td class="px-6 py-4 text-gray-400">edit</td></tr>
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">PUT</td><td class="px-6 py-4 font-mono text-gray-400">/users/:id</td><td class="px-6 py-4 text-gray-400">update</td></tr>
                <tr><td class="px-6 py-4 text-indigo-300 font-mono">DELETE</td><td class="px-6 py-4 font-mono text-gray-400">/users/:id</td><td class="px-6 py-4 text-gray-400">delete</td></tr>
            </tbody>
        </table>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Namespaces</h2>
    <p class="text-gray-400 mb-6">Group routes under a common prefix, like <code>/admin</code>:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-12">
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">namespace("admin", -> {
    get("/dashboard", "admin#dashboard");
    get("/users", "admin#users");
    post("/users", "admin#create_user");
});</code></pre>
        </div>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Scoped Middleware</h2>
    <p class="text-gray-400 mb-6">Apply middleware only to specific route blocks:</p>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-12">
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">// Only /admin/* routes require authentication
middleware("authenticate", -> {
    get("/admin", "admin#index");
    get("/admin/users", "admin#users");
});

// Public routes - no auth needed
get("/", "home#index");
get("/about", "home#about");</code></pre>
        </div>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Nested Resources</h2>

    <div class="rounded-lg bg-gray-900 overflow-hidden mb-12">
        <div class="p-4 overflow-x-auto">
<pre><code class="language-soli text-sm">namespace("api", -> {
    resources("users", -> {
        resources("posts", -> {
            resources("comments", null);
        });
    });
});
// Creates: /api/users/:user_id/posts/:post_id/comments/:id</code></pre>
        </div>
    </div>

    <div class="my-8 p-6 rounded-xl bg-indigo-500/10 border border-indigo-500/20 mb-12">
        <h4 class="text-lg font-semibold text-indigo-400 mb-2 flex items-center gap-2">
            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
            </svg>
            Auto-Derived Routes
        </h4>
        <p class="text-indigo-200/80 text-sm">
            Soli can automatically map routes to controllers based on naming conventions. 
            Defining a method named <code>index</code> in <code>home_controller.sl</code> automatically handles <code>GET /home</code>.
        </p>
    </div>

    <h2 class="text-2xl font-bold text-white mb-6">Next Steps</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <a href="/docs/testing" class="group block p-6 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-indigo-500/50 transition-all">
            <h3 class="text-lg font-semibold text-white mb-2 group-hover:text-indigo-400 transition-colors">Testing &rarr;</h3>
            <p class="text-sm text-gray-400">Learn how to test routes with HTTP integration tests.</p>
        </a>
        <a href="/docs/controllers" class="group block p-6 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-indigo-500/50 transition-all">
            <h3 class="text-lg font-semibold text-white mb-2 group-hover:text-indigo-400 transition-colors">Controllers &rarr;</h3>
            <p class="text-sm text-gray-400">Learn how to handle the requests you've routed.</p>
        </a>
    </div>
</div>